(this.webpackJsonppixelpedia=this.webpackJsonppixelpedia||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(21),c=a.n(n),i=a(29),o=a(119),s=a(118),r=a(115),l=a(117),d=a(116),h=(a(73),a(74),a(2)),u=a.n(h),m=a(37),j=a.n(m),b=a(14),p=a(50),g=a.n(p),O=a(5),x={isSignedIn:!1},f={signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[b.a.auth.EmailAuthProvider.PROVIDER_ID,b.a.auth.GoogleAuthProvider.PROVIDER_ID,b.a.auth.TwitterAuthProvider.PROVIDER_ID,b.a.auth.FacebookAuthProvider.PROVIDER_ID,b.a.auth.GithubAuthProvider.PROVIDER_ID]};b.a.initializeApp({apiKey:"AIzaSyD-3d0cBNN33wQ5JvUsQfBB9ERDMJ-kkqI",authDomain:"pixelpedia-fa44c.firebaseapp.com",projectId:"pixelpedia-fa44c",storageBucket:"pixelpedia-fa44c.appspot.com",messagingSenderId:"30869197092",appId:"1:30869197092:web:bc6eb12e71843cd45723b1"});var y=function(){var e=Object(h.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=function(){return n(!1)},m=function(){return n(!0)};console.log("Theme",localStorage.getItem("theme"));var p=!0;"false"==localStorage.getItem("theme")&&(p=!1);var y=u.a.useState(p),I=Object(i.a)(y,2),v=I[0],k=I[1];function w(){k((function(e){return!e})),localStorage.setItem("theme",!v),document.getElementById("theme").className=v?"light-theme":"dark-theme"}console.log("Dark theme is ",v),document.getElementById("theme").className=v?"dark-theme":"light-theme";var S=Object(h.useState)(null),N=Object(i.a)(S,2),D=(N[0],N[1]);return Object(h.useEffect)((function(){var e=b.a.auth().onAuthStateChanged((function(e){x.isSignedIn=!!e,D(e),console.log(e)}));return function(){x.isSignedIn||e()}}),[]),x.isSignedIn?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:v?"dark-theme":"light-theme",children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(o.a.Brand,{href:"#home",style:{color:v?"white":"#202020",marginLeft:"0.8rem"},children:Object(O.jsx)("h3",{children:"pixelpedia"})}),Object(O.jsx)(s.a,{className:"mr-auto"}),Object(O.jsx)(g.a,{checked:!v,onstyle:"outline-secondary",offstyle:"outline-warning",onlabel:"\u2600\ufe0f",offlabel:"\ud83c\udf1a",onChange:w}),Object(O.jsxs)(r.a,{className:"shmancy",variant:"outline-info",onClick:m,children:["Signed in as ",b.a.auth().currentUser.displayName]})]})}),Object(O.jsxs)(l.a,{show:a,onHide:c,style:{backgroundcolor:v?"white":"black"},children:[Object(O.jsx)(l.a.Header,{closeButton:!0,children:Object(O.jsx)(l.a.Title,{className:"shmancy",children:"Profile"})}),Object(O.jsxs)(l.a.Body,{children:[Object(O.jsxs)(d.a,{children:[Object(O.jsxs)("h3",{style:{textAlign:"center"},children:["Hey, ",b.a.auth().currentUser.displayName," \ud83d\udc4b"]}),Object(O.jsx)("br",{})]}),Object(O.jsxs)(d.a,{style:{display:"flex",justifyContent:"center"},children:[Object(O.jsx)(r.a,{className:"shmancy",variant:"outline-danger",onClick:function(){b.a.auth().signOut(),x.isSignedIn=!1},children:"Sign Out"}),Object(O.jsx)(r.a,{className:"shmancy",variant:"outline-info",href:"https://docs.google.com/forms/d/e/1FAIpQLSf4OcdHdulTPqXFh_A56PoO4Je_VxkNKMEIi34wrljER0EorQ/viewform",target:"_blank",children:"Submit a Photo Spot"})]})]})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:v?"dark-theme":"#202020",children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(o.a.Brand,{className:"shmancy",href:"#home",style:{color:v?"white":"black",marginLeft:"0.8rem"},children:Object(O.jsx)("h3",{children:"pixelpedia"})}),Object(O.jsx)(s.a,{className:"mr-auto"}),Object(O.jsx)(g.a,{checked:!v,onstyle:"outline-secondary",offstyle:"outline-warning",onlabel:"\u2600\ufe0f",offlabel:"\ud83c\udf1a",onChange:w}),Object(O.jsx)(r.a,{className:"shmancy",variant:"outline-info",onClick:m,children:"Sign In"})]})}),Object(O.jsxs)(l.a,{show:a,onHide:c,children:[Object(O.jsx)(l.a.Header,{closeButton:!0,children:Object(O.jsx)(l.a.Title,{className:"shmancy",children:"Sign In"})}),Object(O.jsx)(l.a.Body,{children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)("h2",{className:"shmancy",style:{textAlign:"center"},children:"Welcome to pixelpedia"}),Object(O.jsx)(j.a,{uiConfig:f,firebaseAuth:b.a.auth()})]})})]})]})},I=a(30),v=a.n(I),k=a(67);v.a.workerClass=k.a,v.a.accessToken="pk.eyJ1IjoianVuZWFkazI3IiwiYSI6ImNrbXpvcml4ajA0OXkydm8yODFmN3dtemgifQ.YacZnbSOmX93UZJMH7WLKg";var w=function(){var e=Object(h.useRef)(),t=Object(h.useState)(-79.0541),a=Object(i.a)(t,2),n=a[0],c=a[1],o=Object(h.useState)(35.9132),s=Object(i.a)(o,2),r=s[0],l=s[1],d=Object(h.useState)(12.15),u=Object(i.a)(d,2),m=u[0],j=u[1];Object(h.useEffect)((function(){var t="mapbox://styles/mapbox/dark-v10";"false"==localStorage.getItem("theme")&&(t="mapbox://styles/juneadk27/ckn10m3z11mxg17loh9k451jr");var a=new v.a.Map({container:e.current,style:t,center:[n,r],zoom:m}),i=new MapboxGeocoder({accessToken:v.a.accessToken,mapboxgl:v.a,marker:!1,placeholder:"Find photo spots around...",bbox:[-79.5657,35.4682,-77.2503,36.2836],proximity:{longitude:-79.055847,latitude:35.9132}});return a.addControl(i),a.on("load",(function(){a.addSource("single-point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),a.addLayer({id:"point",source:"single-point",type:"circle",paint:{"circle-radius":10,"circle-color":"#448ee4"}})})),a.on("click",(function(e){var t=a.queryRenderedFeatures(e.point,{layers:["pixelpediatest"]});if(t.length){var n=t[0];console.log(n);new v.a.Popup({offset:[0,-15]}).setLngLat(n.geometry.coordinates).setHTML("<h3>"+n.properties.Name+"</h3><p>"+n.properties.Description+'</p><img src="https://upload.wikimedia.org/wikipedia/commons/e/ea/Bell_tower_in_Chapel_Hill_%28cropped%29.jpg" width="200" height="200"><img src="https://www.unc.edu/wp-content/uploads/2019/04/008919_BellTowerClimb0178.jpg" width="200" height="200"><img src="https://i.pinimg.com/originals/8f/20/91/8f209105e938d26a19780f97dfc825b8.jpg" width="200" height="200">').addTo(a)}})),new MutationObserver((function(e,t){console.log("Mutations:",e),console.log("Observer:",t),e.forEach((function(e){"class"===e.attributeName&&(console.log(e.target.className),"light-theme"==e.target.className?a.setStyle("mapbox://styles/juneadk27/ckn10m3z11mxg17loh9k451jr"):a.setStyle("mapbox://styles/mapbox/dark-v10"))}))})).observe(b,{attributes:!0}),a.on("move",(function(){c(a.getCenter().lng.toFixed(4)),l(a.getCenter().lat.toFixed(4)),j(a.getZoom().toFixed(2))})),function(){return a.remove()}}),[]);var b=document.getElementById("theme");return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"sidebar",children:["Longitude: ",n," | Latitude: ",r," | Zoom: ",m]}),Object(O.jsx)("div",{className:"map-container",ref:e})]})},S=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.a.Fragment,{children:Object(O.jsx)(w,{})})})};b.a.auth.EmailAuthProvider.PROVIDER_ID,b.a.auth.GoogleAuthProvider.PROVIDER_ID,b.a.auth.TwitterAuthProvider.PROVIDER_ID,b.a.auth.FacebookAuthProvider.PROVIDER_ID,b.a.auth.GithubAuthProvider.PROVIDER_ID;c.a.render(Object(O.jsx)(y,{}),document.getElementById("nav")),c.a.render(Object(O.jsx)(S,{}),document.getElementById("map"))}},[[113,1,2]]]);
//# sourceMappingURL=main.27e7be9c.chunk.js.map