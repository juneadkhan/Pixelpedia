(this.webpackJsonppixelpedia=this.webpackJsonppixelpedia||[]).push([[0],{188:function(e,t,a){"use strict";a.r(t);var r=a(18),c=a.n(r),n=a(38),i=a(225),o=a(222),s=a(221),l=a(216),d=(a(128),a(129),a(1)),h=a.n(d),j=a(71),u=a.n(j),b=a(19),p=(a(145),a(224)),m=a(214),g=a(215),x=a(226),O=a(217),f=a(86),y=a.n(f),v=a(87),k=a.n(v),w=a(118),I=a.n(w),S=a(212),E=a(37),C=a.n(E),D=a(4),A=Object(S.a)({root:{background:"#F2C76E","&:hover":{backgroundColor:"#f26e6e",color:"#ffffff"}},label:{color:"black"}}),N={isSignedIn:!1},R={signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[b.a.auth.EmailAuthProvider.PROVIDER_ID,b.a.auth.GoogleAuthProvider.PROVIDER_ID,b.a.auth.TwitterAuthProvider.PROVIDER_ID,b.a.auth.FacebookAuthProvider.PROVIDER_ID,b.a.auth.GithubAuthProvider.PROVIDER_ID]};b.a.initializeApp({apiKey:"AIzaSyD-3d0cBNN33wQ5JvUsQfBB9ERDMJ-kkqI",authDomain:"pixelpedia-fa44c.firebaseapp.com",projectId:"pixelpedia-fa44c",storageBucket:"pixelpedia-fa44c.appspot.com",messagingSenderId:"30869197092",appId:"1:30869197092:web:bc6eb12e71843cd45723b1"});var P=function(){var e=Object(d.useState)(!1),t=Object(n.a)(e,2),a=t[0],r=t[1],c=function(){return r(!1)},j=function(){return r(!0)},f="far";"cel"==localStorage.getItem("units")&&(f="cel");var v=h.a.useState(f),w=Object(n.a)(v,2),S=w[0],E=w[1];console.log("Theme",localStorage.getItem("theme"));var P=!0;"false"==localStorage.getItem("theme")&&(P=!1);var F=h.a.useState(P),B=Object(n.a)(F,2),M=B[0],z=B[1];function _(){z((function(e){return!e})),localStorage.setItem("theme",!M),document.getElementById("theme").className=M?"light-theme":"dark-theme"}console.log("Dark theme is ",M),document.getElementById("theme").className=M?"dark-theme":"light-theme";var L=Object(d.useState)(null),T=Object(n.a)(L,2),V=(T[0],T[1]);return Object(d.useEffect)((function(){var e=b.a.auth().onAuthStateChanged((function(e){N.isSignedIn=!!e,V(e),console.log(e)}));return function(){N.isSignedIn||e()}}),[]),N.isSignedIn?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:M?"dark-theme":"light-theme",children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(i.a.Brand,{href:"#home",style:{color:M?"white":"#202020",marginLeft:"0.8rem"},children:Object(D.jsx)("h3",{children:"pixelpedia"})}),Object(D.jsx)(o.a,{className:"mr-auto"}),Object(D.jsx)(p.a,{title:"View Instagram",arrow:!0,children:Object(D.jsx)(m.a,{"aria-label":"insta",href:"https://www.instagram.com/pixelpedia.io/",target:"_blank",children:M?Object(D.jsx)(C.a,{style:{color:"white"}}):Object(D.jsx)(C.a,{})})}),Object(D.jsx)(p.a,{title:M?"Switch to Light Mode":"Switch to Dark Mode",arrow:!0,children:Object(D.jsx)(m.a,{"aria-label":"delete",onClick:_,children:M?Object(D.jsx)(y.a,{style:{color:"white"}}):Object(D.jsx)(k.a,{})})}),Object(D.jsxs)(g.a,{style:{marginLeft:"0.4rem"},classes:{root:A().root,label:A().label},className:"SignInButton",variant:"contained",color:"secondary",onClick:j,disableElevation:!0,children:["Signed in as ",b.a.auth().currentUser.displayName]})]})}),Object(D.jsxs)(s.a,{show:a,onHide:c,children:[Object(D.jsx)(s.a.Header,{closeButton:!0,style:{backgroundColor:M?"#202020":"white",color:M?"white":"black"},children:Object(D.jsx)(s.a.Title,{className:"shmancy",children:"Profile"})}),Object(D.jsxs)(s.a.Body,{style:{backgroundColor:M?"#202020":"white",color:M?"white":"black"},children:[Object(D.jsxs)(l.a,{children:[Object(D.jsxs)("h3",{style:{textAlign:"center",fontFamily:"Merriweather"},children:["Hey, ",b.a.auth().currentUser.displayName," \ud83d\udc4b"]}),Object(D.jsx)("br",{})]}),Object(D.jsx)(l.a,{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:Object(D.jsxs)(x.a,{value:S,exclusive:!0,onChange:function(e,t){localStorage.setItem("units",t),E(t)},"aria-label":"text alignment",children:[Object(D.jsx)(O.a,{value:"cel",style:{color:M?"white":"black"},children:"\xb0C"}),Object(D.jsx)(O.a,{value:"far",style:{color:M?"white":"black"},children:"\xb0F"})]})}),Object(D.jsxs)(l.a,{style:{display:"flex",justifyContent:"center"},children:[Object(D.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){b.a.auth().signOut(),N.isSignedIn=!1},disableElevation:!0,children:"Sign Out"}),Object(D.jsx)(g.a,{style:{marginLeft:"0.4rem"},variant:"contained",color:"default",startIcon:Object(D.jsx)(I.a,{}),disableElevation:!0,href:"https://docs.google.com/forms/d/e/1FAIpQLSf4OcdHdulTPqXFh_A56PoO4Je_VxkNKMEIi34wrljER0EorQ/viewform",target:"_blank",children:"Submit a Photo Spot"})]})]})]})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:M?"dark-theme":"#202020",children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(i.a.Brand,{className:"shmancy",href:"#home",style:{color:M?"white":"black",marginLeft:"0.8rem"},children:Object(D.jsx)("h3",{children:"pixelpedia"})}),Object(D.jsx)(o.a,{className:"mr-auto"}),Object(D.jsx)(p.a,{title:"View Instagram",arrow:!0,children:Object(D.jsx)(m.a,{"aria-label":"insta",href:"https://www.instagram.com/pixelpedia.io/",target:"_blank",children:M?Object(D.jsx)(C.a,{style:{color:"white"}}):Object(D.jsx)(C.a,{})})}),Object(D.jsx)(p.a,{title:M?"Switch to Light Mode":"Switch to Dark Mode",arrow:!0,children:Object(D.jsx)(m.a,{"aria-label":"delete",onClick:_,children:M?Object(D.jsx)(y.a,{style:{color:"white"}}):Object(D.jsx)(k.a,{})})}),Object(D.jsx)(g.a,{style:{marginLeft:"0.4rem"},classes:{root:A().root,label:A().label},className:"SignInButton",variant:"contained",color:"secondary",onClick:j,disableElevation:!0,children:"Sign In"})]})}),Object(D.jsxs)(s.a,{show:a,onHide:c,children:[Object(D.jsx)(s.a.Header,{closeButton:!0,style:{backgroundColor:M?"#202020":"white",color:M?"white":"black"},children:Object(D.jsx)(s.a.Title,{className:"shmancy",children:"Sign In"})}),Object(D.jsx)(s.a.Body,{style:{backgroundColor:M?"#202020":"white",color:M?"white":"black"},children:Object(D.jsxs)(l.a,{children:[Object(D.jsx)("h2",{className:"shmancy",style:{textAlign:"center"},children:"Welcome to pixelpedia"}),Object(D.jsx)(u.a,{uiConfig:R,firebaseAuth:b.a.auth()})]})})]})]})},F=a(43),B=a.n(F),M=a(77),z=a(44),_=a.n(z),L=a(119),T=a(218),V=a(219),H=a(223),J=a(220),G=a(88),U=a.n(G);function Q(e,t){return q.apply(this,arguments)}function q(){return(q=Object(M.a)(B.a.mark((function e(t,a){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"get",url:"https://api.openweathermap.org/data/2.5/onecall?lat="+t+"&lon="+a+"&exclude=&appid=f36e366463c261985623b04441c510f8"});case 2:return r=e.sent,console.log("DaTA: ",r.data.current.weather[0].icon),e.abrupt("return",r.data.current.weather[0].icon);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,a){return Z.apply(this,arguments)}function Z(){return(Z=Object(M.a)(B.a.mark((function e(t,a,r){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"get",url:"https://api.openweathermap.org/data/2.5/onecall?lat="+t+"&lon="+a+"&exclude=&appid=f36e366463c261985623b04441c510f8&units="+r});case 2:return c=e.sent,console.log("DaTA: ",Math.round(c.data.current.temp)),e.abrupt("return",Math.round(c.data.current.temp));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_.a.workerClass=L.a,_.a.accessToken="pk.eyJ1IjoianVuZWFkazI3IiwiYSI6ImNrbXpvcml4ajA0OXkydm8yODFmN3dtemgifQ.YacZnbSOmX93UZJMH7WLKg";var K=function(){var e=Object(d.useRef)(),t=Object(d.useState)(-79.0541),a=Object(n.a)(t,2),r=a[0],i=a[1],o=Object(d.useState)(35.9132),s=Object(n.a)(o,2),h=s[0],j=s[1],u=Object(d.useState)(12.15),b=Object(n.a)(u,2),p=b[0],m=b[1];Object(d.useEffect)((function(){var t="mapbox://styles/juneadk27/cknou38682ur817mztigvh1ux";"false"==localStorage.getItem("theme")&&(t="mapbox://styles/juneadk27/ckn10m3z11mxg17loh9k451jr");var a=new _.a.Map({container:e.current,style:t,center:[r,h],zoom:p}),n=new MapboxGeocoder({accessToken:_.a.accessToken,mapboxgl:_.a,marker:!1,placeholder:"Find photo spots around..."});return a.addControl(n),a.on("load",(function(){a.addSource("single-point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),a.addLayer({id:"point",source:"single-point",type:"circle",paint:{"circle-radius":10,"circle-color":"#448ee4"}})})),a.on("click",function(){var e=Object(M.a)(B.a.mark((function e(t){var r,n,i,o,s,d,h,j,u,b,p;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=a.queryRenderedFeatures(t.point,{layers:["pixelpediatest"]})).length){e.next=3;break}return e.abrupt("return");case 3:return n=r[0],i=n.geometry.coordinates[1],o=n.geometry.coordinates[0],e.next=8,Q(i,o);case 8:return s=e.sent,d="https://openweathermap.org/img/wn/"+s+".png",h="imperial","cel"==localStorage.getItem("units")&&(h="metric"),e.next=14,X(i,o,h);case 14:j=e.sent,u="imperial"==h?"F":"C",console.log("FEATURE",n),a.flyTo({center:[o+2e-4,i-.0025],zoom:15}),b=document.createElement("div"),c.a.render(Object(D.jsx)(l.a,{children:Object(D.jsxs)(T.a,{children:[Object(D.jsxs)(V.a,{style:{flexDirection:"row",justifyContent:"flex-start"},children:[Object(D.jsx)("h3",{className:"propertyName",children:n.properties.Name}),Object(D.jsx)("p",{children:n.properties.Description}),Object(D.jsx)(l.a,{children:Object(D.jsxs)(T.a,{children:[Object(D.jsxs)(g.a,{style:{backgroundColor:"#23272b",color:"white"},variant:"contained",block:!0,href:"https://maps.google.com/?q="+i+","+o,target:"_blank",disableElevation:!0,children:[Object(D.jsxs)("svg",{style:{marginRight:"0.5rem"},"aria-hidden":"true",width:"18",height:"18",viewBox:"0 0 18 18",children:[Object(D.jsx)("path",{d:"M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 002.38-5.88c0-.57-.05-.66-.15-1.18z",fill:"#4285F4"}),Object(D.jsx)("path",{d:"M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2a4.8 4.8 0 01-7.18-2.54H1.83v2.07A8 8 0 008.98 17z",fill:"#34A853"}),Object(D.jsx)("path",{d:"M4.5 10.52a4.8 4.8 0 010-3.04V5.41H1.83a8 8 0 000 7.18l2.67-2.07z",fill:"#FBBC05"}),Object(D.jsx)("path",{d:"M8.98 4.18c1.17 0 2.23.4 3.06 1.2l2.3-2.3A8 8 0 001.83 5.4L4.5 7.49a4.77 4.77 0 014.48-3.3z",fill:"#EA4335"})]}),"Open in Google Maps"]}),Object(D.jsxs)(J.a,{className:p?"dark":"light",variant:"outlined",disabled:!0,style:{marginLeft:"0.5rem",paddingRight:"0.5rem",paddingLeft:"0.5rem",height:"50px"},children:[Object(D.jsx)("img",{className:"img-fluid",src:d,style:{width:"25px",height:"25px"}}),Object(D.jsx)("p",{style:{fontSize:"12px"},children:j+"\xb0"+u})]})]})})]}),Object(D.jsx)(V.a,{children:Object(D.jsxs)(H.a,{fade:!0,children:[void 0!=n.properties.Img&&Object(D.jsxs)(H.a.Item,{children:[Object(D.jsx)("img",{className:"d-block width-100",src:n.properties.Img,alt:"First slide"}),void 0!=n.properties.Auth&&Object(D.jsx)(H.a.Caption,{children:Object(D.jsxs)("p",{style:{backgroundColor:"#23282bba",padding:"3px",fontSize:"10px"},children:[" ",Object(D.jsx)(C.a,{style:{marginRight:"0.1rem",height:"14px"}}),n.properties.Auth]})})]}),void 0!=n.properties.Img2&&Object(D.jsxs)(H.a.Item,{children:[Object(D.jsx)("img",{className:"d-block width-100",src:n.properties.Img2,alt:"Second slide"}),void 0!=n.properties.Auth2&&Object(D.jsx)(H.a.Caption,{children:Object(D.jsxs)("p",{style:{backgroundColor:"#23282bba",padding:"3px",fontSize:"10px"},children:[" ",Object(D.jsx)(C.a,{style:{marginRight:"0.1rem",height:"14px"}}),n.properties.Auth2]})})]}),void 0!=n.properties.Img3&&Object(D.jsxs)(H.a.Item,{children:[Object(D.jsx)("img",{className:"d-block width-100",src:n.properties.Img3,alt:"Third slide"}),void 0!=n.properties.Auth3&&Object(D.jsx)(H.a.Caption,{children:Object(D.jsxs)("p",{style:{backgroundColor:"#23282bba",padding:"3px",fontSize:"10px"},children:[" ",Object(D.jsx)(C.a,{style:{marginRight:"0.1rem",height:"14px"}}),n.properties.Auth3]})})]})]})})]})}),b),p=!0,"false"==localStorage.getItem("theme")&&(p=!1),new _.a.Popup({offset:[0,-15],className:p?"dark":"light",id:"mapboxPopupID"}).setLngLat(n.geometry.coordinates).setDOMContent(b).addTo(a);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new MutationObserver((function(e,t){console.log("Mutations:",e),console.log("Observer:",t),e.forEach((function(e){"class"===e.attributeName&&(console.log(e.target.className),"light-theme"==e.target.className?a.setStyle("mapbox://styles/juneadk27/ckn10m3z11mxg17loh9k451jr"):a.setStyle("mapbox://styles/juneadk27/cknou38682ur817mztigvh1ux"))}))})).observe(x,{attributes:!0}),a.on("move",(function(){i(a.getCenter().lng.toFixed(4)),j(a.getCenter().lat.toFixed(4)),m(a.getZoom().toFixed(2))})),function(){return a.remove()}}),[]);var x=document.getElementById("theme");return Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"map-container",ref:e})})},W=function(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(h.a.Fragment,{children:Object(D.jsx)(K,{})})})};b.a.auth.EmailAuthProvider.PROVIDER_ID,b.a.auth.GoogleAuthProvider.PROVIDER_ID,b.a.auth.TwitterAuthProvider.PROVIDER_ID,b.a.auth.FacebookAuthProvider.PROVIDER_ID,b.a.auth.GithubAuthProvider.PROVIDER_ID;c.a.render(Object(D.jsx)(P,{}),document.getElementById("nav")),c.a.render(Object(D.jsx)(W,{}),document.getElementById("map"))}},[[188,1,2]]]);
//# sourceMappingURL=main.45fbb485.chunk.js.map